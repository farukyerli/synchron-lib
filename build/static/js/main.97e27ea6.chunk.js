(this["webpackJsonpsynchron-lib"]=this["webpackJsonpsynchron-lib"]||[]).push([[0],{182:function(e,t,a){e.exports=a(383)},382:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);a(183),a(192);var n=a(1),o=a.n(n),r=a(176),s=a.n(r),i=a(83),l=a(49),c=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(n.useRef)(null),c=function(){var t;e.disabled||null===(t=i.current)||void 0===t||t.click()},u=function(e){var t=[];return Object.keys(e).map((function(a){return t.push(e[a]),null})),t};return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"upload-area-modal"},o.a.createElement("div",{className:"upload-box ".concat(r&&"OnDragOver"),onDragOver:function(t){t.preventDefault(),e.disabled||s(!0)},onDragLeave:function(){s(!1)},onDrop:function(t){if(t.preventDefault(),!e.disabled){var a=t.dataTransfer.files,n=u(a);e.onChange(n),s(!1)}},onClick:c,onMouseOver:function(){return s(!0)},onMouseOut:function(){return s(!1)}},o.a.createElement("i",{className:"fas fa-upload"}),o.a.createElement("div",{className:"upload-text"},e.dragBoxText||"Drag here to upload")),e.buttonVisible&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"upload-division"},o.a.createElement("div",{className:"upload-division-line"}),o.a.createElement("div",{className:"upload-division-text"},"OR"),o.a.createElement("div",{className:"upload-division-line"})),o.a.createElement("div",{className:"actions"},o.a.createElement("button",{onClick:c},e.buttonTitle||"BROWSE COMPUTER")))),o.a.createElement("input",{ref:i,style:{display:"none"},className:"FileInput",type:"file",multiple:!0,onChange:function(t){if(!e.disabled){var a=t.target.files;e.onChange(a)}}})))},u=a(112),p=a.n(u),m=a(64),d=a(177),f=a(178),g=a(179),b=a(181),v=a(180),h=function(e){var t=e.ratio,a=e.onAbort,n=e.isUploading,r=e.onDelete,s=e.aborted,i=e.onReload,l=e.errorMessage,c=e.file;return o.a.createElement("div",{className:"upload-area version-1"},o.a.createElement("div",{className:"title"},e.title?e.title:c.name||function(e,t){var a=e,n=t||20;return"https://"===e.substring(0,8)&&(a=e.substring(8,e.length)),"http://"===e.substring(0,7)&&(a=e.substring(7,e.length)),a="".concat(a.substring(0,n-10),"....").concat(a.substring(e.length-20,e.length))}(c,40)),n?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat((100*t).toFixed(0),"%")}})),o.a.createElement("div",{className:"status"},"Uploading ","".concat((100*t).toFixed(0),"%  .")),o.a.createElement("div",{className:"actions"},o.a.createElement("i",{className:"far fa-stop-circle",onClick:function(){return a()}}))):o.a.createElement("div",{className:"actions"},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-exclamation-circle",style:{color:"red"}},l),o.a.createElement("i",{className:"fas fa-redo",onClick:i})):o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-eye",onClick:e.onPreview}),o.a.createElement("i",{className:"fas fa-trash",onClick:function(){return r()}}))))},E=a(81),O=a.n(E),N=a(82),w=a.n(N),j=function(e){return console.log("Full Screen",e),o.a.createElement("div",{className:"frame-cover full-screen-preview"},o.a.createElement("div",{className:"large-cover"},o.a.createElement("div",{className:"large"},o.a.createElement("img",{src:w.a,className:"remove-icon",alt:"remove icon",onClick:e.onClose}),o.a.createElement("img",{src:e.image,className:"large-truck",alt:"truck-large"}),o.a.createElement("div",{className:"large-caption"},o.a.createElement("small",null," "),o.a.createElement("button",{type:"button",className:"large-caption-button",onClick:function(){return window.open(e.image)}},o.a.createElement("img",{src:O.a,className:"down-icon",alt:""}),o.a.createElement("span",null,e.downloadButtonTitle||"DOWNLOAD"))))))},M=function(e){return o.a.createElement("div",{className:"frame-cover modal-photo-view"},o.a.createElement("div",{className:"modal-frame-thumbnails big-img-loading"},o.a.createElement("figure",{className:"modal-body-loading-figure"},o.a.createElement("img",{src:w.a,className:"remove-icon",alt:"remove icon",onClick:e.onClose}),o.a.createElement("img",{src:e.image,className:"large-truck",alt:"truck-large"}),o.a.createElement("figcaption",{className:"fig-caption"},o.a.createElement("small",null," "),o.a.createElement("button",{type:"button",className:"large-caption-button",onClick:function(){return window.open(e.image)}},o.a.createElement("img",{src:O.a,className:"down-icon",alt:""}),o.a.createElement("span",null,e.downloadButtonTitle||"DOWNLOAD"))))))},C=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).request=new XMLHttpRequest,n.onUploadProgress=function(e){n.setState({ratio:e.loaded/e.total}),n.props.onChange(1,"Uploading Start")},n.uploadFileWithFetch=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({errorMessage:""}),n.setState({isUploading:!0}),(t=new FormData).append(n.props.file.name,n.props.file),n.request.open("POST",n.props.url,!0),Object.keys(n.props.connection.headers).map((function(e){return n.request.setRequestHeader(e,n.props.connection.headers[e]),null})),n.request.upload.addEventListener("progress",n.onUploadProgress),n.request.onload=function(e){if(n.request.status<300){var t=Object(m.a)(Object(m.a)({},JSON.parse(n.request.response)),{},{filename:n.props.file.name});n.props.onSuccess&&n.props.onSuccess(t)}else n.onError(n.request.status,n.request.readyState);n.setState({isUploading:!1})},n.request.onerror=function(e){n.onError(n.request.status,n.request),n.setState({isUploading:!1})},n.request.onabort=function(){n.setState({errorMessage:"Aborted"}),n.setState({isUploading:!1}),n.setState({aborted:!0}),n.props.onAbort&&n.props.onAbort()},n.request.send(t);case 11:case"end":return e.stop()}}),e)}))),n.onError=function(e,t){var a="";switch(e){case 401:a="Unauthorized Access";break;case 422:a="File too larga";break;default:a="Upload Problem"}n.setState({errorMessage:a}),n.setState({aborted:!0}),n.props.onError&&n.props.onError(a,e)},n.componentDidMount=function(){n.props.onChange(0,"Mounted"),n.props.file&&n.props.file.name&&n.uploadFileWithFetch()},n.onDelete=function(){var e=n.props.file.name?n.props.file.name:n.props.file;n.props.onDelete&&n.props.onDelete(e)},n.onClose=function(){n.setState({isModalOpen:!1})},n.state={ratio:0,isUploading:!1,requestCancel:!1,aborted:!1,errorMessage:"",isModalOpen:!1},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=Object(m.a)(Object(m.a)({},this.props),{},{ratio:this.state.ratio,onAbort:function(){return e.request.abort()},onDelete:this.onDelete,isUploading:this.state.isUploading,file:this.props.file,aborted:this.state.aborted,onReload:function(){e.setState({aborted:!1}),e.uploadFileWithFetch()},errorMessage:this.state.errorMessage,onPreview:function(){e.setState({isModalOpen:!0})}});return console.log("File Type : ",typeof this.props.file),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},"Horizontal-1"===this.props.progressBarType&&o.a.createElement(h,t)),this.state.isModalOpen&&"FullScreen"===this.props.previewType&&o.a.createElement(j,Object.assign({},t,{onClose:this.onClose,image:this.props.file||""})),this.state.isModalOpen&&"Modal-Type-1"===this.props.previewType&&o.a.createElement(M,Object.assign({},this.props,{onClose:this.onClose,image:"string"===typeof this.props.file?this.props.file:URL.createObjectURL(new Blob([this.props.file]))})))}}]),a}(n.Component),k=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],s=a[1],u=Object(n.useState)(e.files||[]),p=Object(l.a)(u,2),m=p[0],d=p[1],f=Object(n.useState)(e.dropzone||!1),g=Object(l.a)(f,2),b=g[0],v=g[1],h=function(t){e.multiUpload?s((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})):s([t[0]])};Object(n.useEffect)((function(){console.log("Upload Files Added : ",r)}),[r]),Object(n.useEffect)((function(){m.map((function(e){return h([e]),null}))}),[m]);var E=function(){},O=function(t){t.PublicUrl&&d(t.PublicUrl),e.multiUpload?e.onSuccess&&e.onSuccess(t):(e.onSuccess&&e.onSuccess(t),v(!1))},N=function(t,a){!e.multiUpload&&v(!1)},w=function(t){var a=Object(i.a)(r),n=a.findIndex((function(e){return e.name===t}));-1!==n&&a.splice(n,1);var o=a.findIndex((function(e){return e===t}));-1!==o&&a.splice(o,1),e.onDelete&&e.onDelete(t),s(a)};return Object(n.useEffect)((function(){}),[]),o.a.createElement(o.a.Fragment,null,b&&o.a.createElement(c,Object.assign({},e,{onChange:h,buttonVisible:e.dropzoneButton})),r.length>0&&r.map((function(t,a){return o.a.createElement(C,Object.assign({},e,{file:t,key:a,headers:e.connection.headers,url:e.connection.url,progressBarSteps:e.progressBarSteps||10,progressBarType:e.progressBarType||"Horizontal-1",onAbort:e.onAbort||E,onError:e.onError||E,onDelete:w,onSuccess:O,onChange:N,connection:e.connection}))})))},D=(a(382),{authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhbXIiOiJwd2QiLCJuYW1laWQiOiIwOGQ3Yzg2OC03YjJkLTQ2NDgtODJkMi1lOGVkYjY4YTY0YjMiLCJlbWFpbCI6InRvQHpvemVuZ28uY29tIiwiY29tcGFueUlkIjoiMDhkN2M4NjgtN2IwZS00ODdiLTgwNmMtY2RlMjNkMWFlMzljIiwiY29tcGFueU5hbWUiOiJUTyBDb21wYW55IiwiZnVsbE5hbWUiOiJUcnVjayBDb21wYW55IC0iLCJzdWIiOiIwOGQ1OTk3OC0xNTllLWMyM2EtZDJmMi00OGU5MTJjZDNmOWMiLCJqdGkiOiJkZDc1MDNhZC01Mzk4LTRjMjktOTFjMC04MDA5MmI4N2Y1ZDYiLCJpYXQiOiIwOC8xNS8yMDIwIDIzOjE2OjUxICswMDowMCIsIm5iZiI6MTU5NzUzMzQxMSwiZXhwIjoxNTk3NTQ3ODExLCJpc3MiOiJodHRwOi8vd3d3LnN5bmNocm9uLnVhIiwiYXVkIjoiTWVydCBZZXJsaSJ9.EOTl5MZzcgH3qXZR8uQKbe1hMlVm5LZe59xiDN7tuAg"}),S=function(){return Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container",style:{padding:100}},o.a.createElement(k,{connection:{url:"https://zz-web-dev.zozengo.com/api/web/Upload/08d7c868-7b0e-487b-806c-cde23d1ae39c",headers:D},dropzone:!0,multiUpload:!0,onSuccess:function(e){console.log("Success : ",e)},onAbort:function(){console.log("Aborted")},onDelete:function(e){console.log("Deleted :",e)},onError:function(e,t){return console.log("error:",e,t)},upLoadText:"Upload Document",files:["https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png"],previewType:"FullScreen",dropzoneButton:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=o.a.createElement(S,null),y=document.getElementById("root");s.a.render(U,y),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a.p+"static/media/fa-upload.1069a7a9.svg"},82:function(e,t,a){e.exports=a.p+"static/media/remove2.db827ec6.svg"}},[[182,1,2]]]);
//# sourceMappingURL=main.97e27ea6.chunk.js.map